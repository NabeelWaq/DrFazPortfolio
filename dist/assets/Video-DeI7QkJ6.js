import{r,j as e}from"./index-KO0ZRvrU.js";const B=({videoRef:s,videoSrc:d,thumb:f})=>{const n=r.useRef(null),x=r.useRef(null),t=r.useRef(null),k=r.useRef(null),o=r.useRef(null),c=r.useRef(null),b=r.useRef(null),h=r.useRef(null),j=r.useRef(null),p=r.useRef(null),i=r.useRef(null);let N;const L=()=>{s.current.paused?s.current.play():s.current.pause(),s.current.paused?n.current.classList.replace("ri-pause-fill","ri-play-fill"):n.current.classList.replace("ri-play-fill","ri-pause-fill"),i.current.classList.contains("ri-play-fill")?i.current.classList.replace("ri-play-fill","ri-pause-fill"):i.current.classList.replace("ri-pause-fill","ri-play-fill")},y=l=>{const{currentTime:a,duration:m}=l.target;let q=a/m*100;x.current.style.width=`${q}%`,h.current.innerText=formateTime(a)},T=()=>{s.current.currentTime+=5},w=()=>{s.current.currentTime-=5},C=()=>{t.current.classList.contains("ri-volume-up-fill")?(s.current.volume=0,t.current.classList.replace("ri-volume-up-fill","ri-volume-mute-fill")):(s.current.volume=.5,t.current.classList.replace("ri-volume-mute-fill","ri-volume-up-fill"))},P=l=>{s.current.volume=l.target.value,l.target.value==0?t.current.classList.replace("ri-volume-up-fill","ri-volume-mute-fill"):t.current.classList.replace("ri-volume-mute-fill","ri-volume-up-fill"),t.current.value=s.current.volume},E=()=>{o.current.classList.toggle("show")},u=l=>{s.current.playbackRate=l.target.dataset.speed,o.current.querySelector(".active").classList.remove("active"),l.target.classList.add("active")},X=()=>{s.current.requestPictureInPicture()},_=()=>{if(c.current.classList.toggle("fullscreen"),document.fullscreenElement)return document.exitFullscreen;c.current.requestFullscreen},M=l=>{let a=l.target.clientWidth;s.current.currentTime=l.nativeEvent.offsetX/a*s.current.duration},v=l=>{j.current.innerText=formateTime(l.target.duration)},U=l=>{p.current.style.left=`${l.nativeEvent.offsetX}px`;let a=l.target.clientWidth,m=l.nativeEvent.offsetX/a*s.current.duration;p.current.innerText=formateTime(m)},g=()=>{N=setTimeout(()=>{c.current.classList.remove("show-controls")},3e3)};g();const V=()=>{c.current.classList.add("show-controls"),clearTimeout(N),g()},W=()=>{s.current.paused?s.current.play():s.current.pause(),i.current.classList.contains("ri-play-fill")?i.current.classList.replace("ri-play-fill","ri-pause-fill"):i.current.classList.replace("ri-pause-fill","ri-play-fill"),s.current.paused?n.current.classList.replace("ri-pause-fill","ri-play-fill"):n.current.classList.replace("ri-play-fill","ri-pause-fill")};return e.jsx("div",{className:"w-full md:w-[80%] relative flex flex-col gap-2 items-center md:items-start justify-center mx-auto mb-10",children:e.jsxs("div",{onMouseMove:()=>V(),ref:c,className:"container w-full md:w-full  relative rounded-lg bg-black mx-auto",children:[e.jsx("div",{onClick:W,className:"absolute flex justify-center items-center w-20 z-10 cursor-pointer opacity-0 h-20 play rounded-full left-[50%] translate-x-[-50%] top-[50%] translate-y-[-50%] bg-tritary text-white",children:e.jsx("i",{ref:i,className:"ri-play-fill text-3xl text-center cursor-pointer"})}),e.jsxs("div",{className:"wrapper absolute left-0 right-0 bottom-0",children:[e.jsx("div",{onMouseMove:l=>U(l),className:"video-timeline",onClick:l=>M(l),ref:b,children:e.jsxs("div",{className:"progress-area",children:[e.jsx("span",{ref:p,children:"00:00"}),e.jsx("div",{ref:x,className:"progress-bar"})]})}),e.jsxs("ul",{className:"video-controls",children:[e.jsxs("li",{className:"options left",children:[e.jsx("button",{onClick:C,className:"volume",children:e.jsx("i",{ref:t,className:"ri-volume-up-fill"})}),e.jsx("input",{onChange:l=>P(l),ref:k,type:"range",min:"0",max:"1",step:"any"}),e.jsxs("div",{className:"video-timer",children:[e.jsx("p",{ref:h,className:"current-time",children:"00:00"}),e.jsx("p",{className:"separator",children:"/"}),e.jsx("p",{ref:j,className:"video-duration",children:"00:00"})]})]}),e.jsxs("li",{className:"options center",children:[e.jsx("button",{onClick:w,className:"skip-backward hidden md:block",children:e.jsx("i",{className:"ri-skip-back-mini-fill"})}),e.jsx("button",{onClick:L,className:"play-pause",children:e.jsx("i",{ref:n,className:"ri-play-fill"})}),e.jsx("button",{onClick:T,className:"skip-forward hidden md:block",children:e.jsx("i",{className:"ri-skip-forward-mini-fill"})})]}),e.jsxs("li",{className:"options right",children:[e.jsxs("div",{className:"playback-content",children:[e.jsx("button",{onClick:E,className:"playback-speed hidden md:block",children:e.jsx("span",{className:"material-symbols-outlined",children:"slow_motion_video"})}),e.jsxs("ul",{ref:o,className:"speed-options",children:[e.jsx("li",{onClick:l=>u(l),"data-speed":"2",children:"2x"}),e.jsx("li",{onClick:l=>u(l),"data-speed":"1.5",children:"1.5x"}),e.jsx("li",{onClick:l=>u(l),"data-speed":"1",className:"active",children:"Normal"}),e.jsx("li",{onClick:l=>u(l),"data-speed":"0.75",children:"0.75X"}),e.jsx("li",{onClick:l=>u(l),"data-speed":"0.5",children:"0.5X"})]})]}),e.jsx("button",{onClick:X,className:"pic-in-pic hidden md:block",children:e.jsx("span",{className:"material-symbols-outlined",children:"picture_in_picture_alt"})}),e.jsx("button",{onClick:_,className:"fullscreen",children:e.jsx("i",{className:"ri-fullscreen-fill"})})]})]})]}),f?e.jsx("video",{onLoadedData:l=>v(l),onTimeUpdate:l=>y(l),ref:s,poster:f,className:"w-full h-full px-2 rounded-lg",src:d}):e.jsx("video",{onLoadedData:l=>v(l),onTimeUpdate:l=>y(l),ref:s,className:"w-full h-full px-2 rounded-lg",src:d})]})})};export{B as default};
